---
import RemoteBody from "./remote-body.astro";
import RemotePopup from "./remote-popup.astro";

export interface Props {
	className?: string;
}

const { className = "" } = Astro.props;
---

<script>
	import "./popover-helper";
</script>

<Fragment>
	<div class={`remote ${className}`}>
		<button popovertarget="remote-modal" popovertargetaction="show"
			>open settings in the style of a remote</button
		>
		<RemoteBody className="inactive-remote" inert />
	</div>
	<RemotePopup />
</Fragment>

<style is:global>
	@layer components {
		.remote {
			position: relative;
			height: var(--remote-depth);

			& > button {
				position: absolute;
				bottom: 0;
				height: var(--min-button-height);
				width: 100%;
				appearance: none;
				color: transparent;
				background-color: transparent;
				border: none;
				transform: translateZ(var(--remote-depth));
			}

			.inactive-remote {
				transform-origin: top left;
				transform: translateY(-1px) translateX(25%) rotateY(115deg) rotateX(90.01deg)
					scale3d(var(--remote-scale), var(--remote-scale), 1);
				width: max-content;
			}
		}
	}
</style>
